{"version":3,"sources":["components/Header.js","images/logo.png","images/pen.png","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/api.js","contexts/CardContext.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","alt","CurrentUserContext","createContext","Card","props","currentUser","React","useContext","isOwn","card","ownerID","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","onClick","handleCardClick","onCardClick","handleClick","type","onCardDelete","handleDeleteClick","name","onCardLike","handleLikeClick","numberOfLikes","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","length","Array","prototype","map","call","item","index","myId","cardId","api","options","this","res","ok","json","Promise","reject","status","fetch","headers","then","_check","cardName","cardLink","method","body","JSON","stringify","profileName","profileJob","buttonName","avatarLink","baseUrl","authorization","CardContext","PopupWithForm","isOpen","onSubmit","noValidate","title","onClose","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","minLength","maxLength","required","value","onChange","target","inputRef","useRef","onUpdateAvatar","current","ref","placeholder","AddPlacePopup","nameRef","urlRef","onApploadCard","url","ImagePopup","isBigImageOpen","App","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","setIsBigImageOpen","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","setMyId","selectedCard","setSelectedCard","setCards","prepareCard","newCard","elementLikes","owner","closeAllPopups","initProfileFomServer","catch","err","console","log","getInitialCards","forEach","element","push","Provider","dislikeCardOnServer","newCardToArr","newCards","c","likeCardOnServer","deleteCardFromServer","filter","data","postLoginToServer","updatedUser","postAvatarToServer","postCardToServer","newCardToPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4008b140.chunk.js","sourcesContent":["import logo from '../images/logo.png';\r\nimport React from 'react';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Логотип\" />\r\n    </header>\r\n  );\r\n}\r\n\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAAAiCAMAAABRP3qRAAAAOVBMVEUAAAD///////////////////////////////////////////////////////////////////////8KOjVvAAAAEnRSTlMAXyDfn78Qf+9AH09vz68wP49BRYaRAAADJUlEQVRYw8WW6bokEQyGEyFFoRb3f7GDtp7qWcxzpic/Wlck5RUfBT5pKhq+7WF9wuct4HUd99suy/B5CzuA0HDa2CCAkbcAOG+JAI6BN4mfouo8pwaUkUUBkkViQXiRAdqB7lS8T1pwiH6rPC42DKdPv4mHIyzBJy0ckiRUHuFJngC3PjDzGEk+8oho/NB78X77ehnNlSeJKG0rvjxGHkMXCwIRoumvQ8vk3f4BD6gNDAk+FDgE8JfZAOQdeTASusIT7JSXnes8FhH5Nzy5QIcmp+AkpSXw4b0SkYe997LyqDkR/4pHxZz9jyIL9Z5b3qE/Fp5gpnj6Fp516zzTxjfhv/NMipb/nye40fXgsdITqU2MGnj5pC2SkzKt8iGl5BrhDiJ/oFjlOfSk6C265MhjKBS7+ekjMdQ0tBrx1gK2RR6ZUs2oZsKBZwvdPPcdOAA9edgPEXKRh0tOGwoHHpsPBHdZSe1kEPmv3U+sPoP5r6tnkMxZaJ3KdV3jAZUV3WUpBp48TKcwlVn2cDPpuQboK/91IUWs8ZgyfHN0nnHlRBJanf1VhCSd5QdPIsdhvdUaD8SBCKAP1Sl86WmdXFr7i/1+hiGLdcpa4+mKphD8UJVJWtl9ljUg/DmP6ydIpV/j4VTTpuaBx6SOrdqReuuUAx3OPHmm9ex0KzzlZfxqiQceGyarsjh1edIHvuFRpY59h96LPFnR7bHz4HseEHI+f548+/Q9lCs8Rbf6VWgBX+pz4GiifTBuVYD4sV6P+mxrPEXRXDZ05xG/rvVVb5Izz93qWF/tVnkySlbzxAPR7d+n9qGPkWc6L1vHtcLTXtyOIZxmbZoSnOGcZR0OL1AjT52c5iGCYJnH1G/fzGMGxQp67UIOfThs9TkGctm8wCnJrfPAS52i83Q3YbtjyOrzOdLqJpU7BRpx1i9LUCIl+aL4ZR5XbvadpxclaOV139ynzrGHyu0xXXP1cCHRpHMTGdd5uE2183Sg+ayxuvsUzxel82sEnbDKUwtOMPJUQ19vetzypC40CD0uk+McoWPSt5u4EO0++y4bffw17trniBNW7AeDqUk/kdiNfQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB+SURBVHgB7dbBCYAwDAXQ4ASO4Ca6gSPoBo6gGzhSR8koMdIIoSBe8vGSD5/SSx6hlxIBIiKDttwnoWIISw1DsAYRCPaCPCkUkQ8kZqNEEkkkkUT+RAxa4YjDduQmhx/msNhNbCA32BaNTNC3sHTa2d177UKISP3ondqRgLkAC8rJEj0Pt60AAAAASUVORK5CYII=\"","import { createContext } from 'react';\r\n\r\nexport const CurrentUserContext = createContext();","import {CurrentUserContext} from'../contexts/CurrentUserContext';\r\nimport React from 'react';\r\n\r\nexport default function Card(props){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.ownerID === currentUser._id;\r\n  const cardDeleteButtonClassName = (`element__delete ${isOwn ? 'popup_visible' : ''}`)\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (`element__button ${isLiked ? 'element__button_liked' : ''}`); \r\n\r\n  return(\r\n    <div className=\"element\">\r\n      <img className=\"element__img\" src={props.card.link} onClick={()=>handleClick(props)} alt='Неотрисовавшаяся картинка' />\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={()=>handleDeleteClick(props)} />\r\n      <div className=\"element__caption\">\r\n        <h2 className=\"element__text\">{props.card.name}</h2>\r\n        <div className=\"element__section\">\r\n          <button className={cardLikeButtonClassName} onClick={()=>handleLikeClick(props)} type=\"button\" />\r\n          <p className=\"element__likeCount\">{props.card.numberOfLikes}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  function handleClick(props) {\r\n    props.handleCardClick();\r\n    props.onCardClick(props.card);\r\n  } \r\n  \r\n  function handleLikeClick(props) {\r\n    props.onCardLike(props.card);\r\n  } \r\n  function handleDeleteClick(props) {\r\n    props.onCardDelete(props.card);\r\n  }\r\n}","import React from 'react';\r\nimport pen from '../images/pen.png';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from'../contexts/CurrentUserContext';\r\n\r\n\r\n\r\n\r\n\r\nexport default function Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n  \r\n\r\n  return (\r\n    <div>\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__art\">\r\n          <img className=\"profile__logo\" src ={currentUser.avatar}  alt=\"Аватар профиля\"/>\r\n          <div className=\"profile__overlay\" onClick={props.onEditAvatar}>\r\n            <img className=\"profile__pen\" src={pen} alt=\"Редактировать\"/>\r\n          </div> \r\n        </div>\r\n        <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <p className=\"profile__occupation\">{currentUser.about}</p>\r\n            <button className=\"profile__button\" type=\"button\" onClick={props.onEditProfile} /> \r\n        </div>\r\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace} />\r\n      </section>\r\n\r\n      \r\n      {(props.cards.length!==0)?\r\n        <section className=\"elements\">\r\n          {Array.prototype.map.call(props.cards, function(item,index){\r\n            return(\r\n              <Card key={item.cardId} card={item} myId={props.myId} onCardClick={props.onCardClick} handleCardClick={props.handleCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\r\n            )\r\n          })}\r\n        </section>\r\n      :''}\r\n    \r\n      \r\n    </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\n\r\nexport default function Main() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}","class Api {//буква длжна быть мала\r\n    constructor(options) {\r\n      this.options=options;\r\n    }\r\n  \r\n    _check(res){\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    \r\n    getInitialCards() {\r\n      return fetch('https://mesto.nomoreparties.co/v1/cohort-18/cards', {\r\n        headers: this.options.headers\r\n      })\r\n      .then(res => {\r\n        return this._check(res)\r\n  \r\n      })\r\n    \r\n    }\r\n    \r\n    initProfileFomServer(){\r\n      return fetch('https://mesto.nomoreparties.co/v1/cohort-18/users/me ', {\r\n        headers: this.options.headers\r\n      })\r\n      .then(res => {\r\n        return this._check(res)\r\n      })\r\n    }\r\n  \r\n    postCardToServer(cardName,cardLink){\r\n      return fetch('https://mesto.nomoreparties.co/v1/cohort-18/cards', {\r\n        method: 'POST',\r\n        headers: this.options.headers,\r\n        body: JSON.stringify({\r\n          name: cardName,\r\n          link: cardLink\r\n        })\r\n      })\r\n      .then(res => {if (res.ok) {\r\n        return res.json();\r\n      }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      })\r\n    }\r\n  \r\n    postLoginToServer(profileName,profileJob,buttonName){\r\n      return fetch('https://mesto.nomoreparties.co/v1/cohort-18/users/me', {\r\n        method: 'PATCH',\r\n        headers: this.options.headers,\r\n        body: JSON.stringify({\r\n          name: profileName,\r\n          about: profileJob\r\n        })\r\n      })\r\n      .then(res => {\r\n        return this._check(res)\r\n      })\r\n    }\r\n  \r\n    deleteCardFromServer(cardId){\r\n      return fetch(`https://mesto.nomoreparties.co/v1/cohort-18/cards/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: this.options.headers,\r\n        body: JSON.stringify({})\r\n      })\r\n      .then(res => {\r\n        return this._check(res)\r\n      })\r\n    }\r\n  \r\n    likeCardOnServer(cardId){\r\n      return fetch(`https://mesto.nomoreparties.co/v1/cohort-18/cards/likes/${cardId}`, {\r\n        method: 'PUT',\r\n        headers: this.options.headers,\r\n        body: JSON.stringify({})\r\n      })\r\n      .then(res => {\r\n        return this._check(res)\r\n      })  \r\n    }\r\n  \r\n    dislikeCardOnServer(cardId){\r\n      return fetch(`https://mesto.nomoreparties.co/v1/cohort-18/cards/likes/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: this.options.headers,\r\n        body: JSON.stringify({})\r\n      })\r\n      .then(res => {\r\n        return this._check(res)\r\n      }); \r\n    }\r\n  \r\n    postAvatarToServer(avatarLink){\r\n      return fetch('https://mesto.nomoreparties.co/v1/cohort-18/users/me/avatar', {\r\n        method: 'PATCH',\r\n        headers: this.options.headers,\r\n        body: JSON.stringify({\r\n          avatar: avatarLink\r\n        })\r\n      })\r\n      .then(res => {\r\n        return this._check(res)\r\n      }); \r\n    }\r\n  }\r\n  \r\n  const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-18',\r\n    headers: {\r\n      authorization: 'ece4ec17-0364-4590-98d8-28086b7fa384',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }); \r\n  \r\n  export {api};","import { createContext } from 'react';\r\n\r\nexport const CardContext = createContext();","import React from 'react';\r\n\r\nexport default function PopupWithForm(props){\r\n  return(\r\n    <div className={`popup ${props.name} ${props.isOpen?'popup_visible':''}`}  >\r\n    <form className=\"popup__container profile-container\" name=\"editProfile\" onSubmit={props.onSubmit} noValidate>\r\n      <h2 className=\"popup__title\">{props.title}</h2>\r\n      <button className=\"popup__close profile__close\" type=\"button\" onClick={props.onClose} /> \r\n      {props.children}\r\n    </form>\r\n  </div>\r\n  )\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport {CurrentUserContext} from'../contexts/CurrentUserContext';\r\nimport React from 'react';\r\n\r\nexport default function EditProfilePopup(props){\r\n  const [name,setName] = useState('');\r\n  const [description,setDescription]=useState('');\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n  \r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name || '');\r\n    setDescription(currentUser.about || '');\r\n  }, [currentUser]); \r\n  return(\r\n    <PopupWithForm name=\"profile-popup\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input id=\"name-input\" className=\"popup__input profile-popup__input_name\" name=\"name\" type=\"text\" minLength=\"2\" maxLength=\"20\" required value={name}\r\n         onChange={handleNameChange} />\r\n      <span id=\"name-input-error\" className=\"popup__input-error\" /> \r\n      <input id=\"occupation-input\" className=\"popup__input profile-popup__input_occupation\" name=\"job\" type=\"text\" minLength=\"2\" maxLength=\"200\" required value={description} onChange={handleDescriptionChange} />\r\n      <span id=\"occupation-input-error\" className=\"popup__input-error\" /> \r\n      <button className=\"popup__button profile__submit\" type=\"submit\" name=\"submit\">Сохранить</button>\r\n    </PopupWithForm>\r\n  )\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\n\r\nexport default function EditProfilePopup(props){\r\n\r\n  const inputRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value\r\n    });\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm name=\"avatar-popup\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input  ref={inputRef} id=\"url-input\" className=\"popup__input avatar-popup__input_image\" placeholder='Ссылка на картинку' name=\"avatar-image\" type=\"url\" required />\r\n      <span id=\"url-input-error\" className=\"popup__input-error\" /> \r\n      <button className=\"popup__button avatar-submit\" type=\"submit\" name=\"avatar-submit\">Сохранить</button>\r\n    </PopupWithForm>\r\n  )\r\n}","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\n\r\nexport default function AddPlacePopup(props){\r\n  \r\n  const nameRef = React.useRef();\r\n  const urlRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onApploadCard({\r\n      name: nameRef.current.value,\r\n      url: urlRef.current.value\r\n    });\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm name=\"place-popup\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose}>\r\n    <input ref={nameRef} id=\"image-input\" className=\"popup__input place-popup__input_name\" placeholder='Название' name=\"place-name\" type=\"text\" minLength=\"2\" maxLength=\"30\" required />\r\n    <span id=\"image-input-error\" className=\"popup__input-error\" /> \r\n    <input ref={urlRef} id=\"url-input\" className=\"popup__input place-popup__input_image\" placeholder='Ссылка на картинку' name=\"place-image\" type=\"url\" required />\r\n    <span id=\"url-input-error\" className=\"popup__input-error\" /> \r\n    <button className=\"popup__button place-submit\" type=\"submit\" name=\"place-submit\" onClick={handleSubmit}>Сохранить</button>\r\n  </PopupWithForm>    \r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function ImagePopup(props){\r\n  return(\r\n  <div className={`popup image-popup ${props.isBigImageOpen?'popup_visible':''}`}>\r\n    <div className=\"image-popup__container\">\r\n      <img className=\"image-popup__img\" alt=\"Изображение\" src={props.card.link} />\r\n      <div className=\"caption\">{props.card.name}</div>\r\n      <button className=\"popup__close image-popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n    </div>\r\n  </div>\r\n  )\r\n}","import '../App.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport {api} from '../utils/api';\nimport {CurrentUserContext} from'../contexts/CurrentUserContext';\nimport {CardContext} from'../contexts/CardContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nfunction App() {\n\n  const [currentUser, setCurrentUser] = useState({avatar:'',about:'',name:'',_id:''});\n  \n\n  \n  const [isEditAvatarPopupOpen,setIsEditAvatarPopupOpen]=useState(false)\n  const [isEditProfilePopupOpen,setIsEditProfilePopupOpen]=useState(false)\n  const [isAddPlacePopupOpen,setIsAddPlacePopupOpen]=useState(false)\n  const [isBigImageOpen,setIsBigImageOpen]=useState(false);\n  \n  const [userName,setUserName]=useState('');\n  const [userDescription,setUserDescription]=useState('');\n  const [userAvatar,setUserAvatar]=useState('');\n  const [myId,setMyId]=useState('');\n  const [selectedCard,setSelectedCard]=useState({name: '', link: ''});;\n\n  const [cards,setCards]=useState([]);\n\n  function prepareCard(newCard){\n    const name=newCard.name;\n    const link=newCard.link;\n    const numberOfLikes=newCard.likes.length;\n    const likes=newCard.likes;\n    const cardId=newCard._id;\n    const elementLikes = newCard.likes\n    const ownerID = newCard.owner._id;\n    return {name,link,numberOfLikes,cardId,elementLikes,ownerID,likes}\n  }\n\n  useEffect(() => {\n    api.initProfileFomServer()\n      .then(function(res){\n        setUserAvatar(res.avatar);\n        setUserDescription(res.about);\n        setUserName(res.name);\n        setMyId(res._id);\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err); \n      });\n      if (cards.length===0){\n        api.getInitialCards()\n          .then(function(res){\n            const card=[]\n            res.forEach(element => {\n              card.push(prepareCard(element))\n            })\n            setCards(card) \n            })\n          .catch((err) => {\n            console.log(err); \n          });\n      }\n  }, [null])\n\n\n  function handleEditAvatarClick(){\n    setIsEditAvatarPopupOpen(true)\n  }\n  function handleEditProfileClick(){\n    setIsEditProfilePopupOpen(true)\n  }\n  function handleAddPlaceClick(){\n    setIsAddPlacePopupOpen(true)\n  }\n  function handleCardClick(){\n    setIsBigImageOpen(true)\n  }\n  function closeAllPopups(){\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsBigImageOpen(false);\n    setSelectedCard({name: '', link: ''})\n  }\n\n  function handleUpdateUser(data) {\n    api.postLoginToServer(data.name, data.about)\n      .then((updatedUser)=>{\n        setCurrentUser(updatedUser);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err); \n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    api.postAvatarToServer(data.avatar)\n      .then((updatedUser)=>{\n        setCurrentUser(updatedUser);\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err); \n      });\n  }\n\n  function handleApploadCard(data) {\n    api.postCardToServer(data.name,data.url)\n      .then((newCard)=>{\n        const newCardToPage = prepareCard(newCard)\n        setCards([newCardToPage, ...cards]); \n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err); \n      });\n  }\n\n  \n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    if (!isLiked){\n      api.likeCardOnServer(card.cardId)\n      .then((newCard) => {\n        const newCardToArr=prepareCard(newCard)\n        const newCards = cards.map((c) => c.cardId === card.cardId ? newCardToArr : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err); \n      });\n    }else{\n      api.dislikeCardOnServer(card.cardId)\n      .then((newCard) => {\n        const newCardToArr=prepareCard(newCard)\n        const newCards = cards.map((c) => c.cardId === card.cardId ? newCardToArr : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err); \n      });\n    }\n    \n  } \n  function handleCardDelete(card) {\n    api.deleteCardFromServer(card.cardId)\n    .then(() => {\n      const newCards = cards.filter((c) => c.cardId !== card.cardId);\n      setCards(newCards);\n    })\n    .catch((err) => {\n      console.log(err); \n    });\n  } \n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <CardContext.Provider value={setCards}>\n    <div>\n    <div className=\"page\">\n      <Header />\n      <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick}  onEditAvatar={handleEditAvatarClick} handleCardClick={handleCardClick}\n            userAvatar={userAvatar} userName={userName} userDescription={userDescription} cards={cards} myId={myId}\n            onCardClick={setSelectedCard} selectedCard={selectedCard} onCardLike={handleCardLike} onCardDelete={handleCardDelete} /> \n      <Footer />\n      \n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} /> \n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onApploadCard={handleApploadCard}/>\n\n      <ImagePopup card={selectedCard} isOpen={true} isBigImageOpen={isBigImageOpen} onClose={closeAllPopups}  />\n  </div>\n  </div>\n  </CardContext.Provider>\n  </CurrentUserContext.Provider>\n  );\n  \n}\n\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}